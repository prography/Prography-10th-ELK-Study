# Leaf Query
- Elasticsearch에서 가장 단순한 형태의 쿼리이다.
- 리프 쿼리는 특정 필드에서 특정 값을 검색하는 역할을 한다.
  - 이 쿼리는 다른 쿼리를 포함하지 않는다.
  - 데이터에 대해 기준을 직접 매칭한다.
- 리프 쿼리의 주요 특징
  - 필드 수준 연산: 문서 내 특정 필드에 대해 직접 작동한다.
  - 단일 조건: 용어 매칭, 범위 평가, 존재 여부 확인 등 하나의 조건만 평가한다.
  - 중첩 없음: 리프 쿼리는 다른 쿼리를 포함하거나 조합하지 않는다.

# Compound Query
- 하나 이상의 다른 쿼리(리프 쿼리 또는 다른 컴파운드 쿼리)를 결합하는 상위 수준의 쿼리이다.
- 다른 쿼리들의 실행을 결합, 수정 또는 제어하여 더 복잡하고 정교한 검색 로직을 구축하는 데 사용된다.

## Compound Query 주요 특징
- 쿼리 결합: 여러 쿼리를 논리 연산자(예: AND, OR, NOT)를 사용하여 결합할 수 있다.
- 중첩: 컴파운드 쿼리는 다른 컴파운드 쿼리나 리프 쿼리를 포함할 수 있으며, 이를 통해 깊고 복잡한 검색 구조를 만들 수 있다.
- 실행 제어: 컴파운드 쿼리는 하위 쿼리들의 실행 방식과 결과 조합 방식(예: 스코어링, 필터링)을 제어할 수 있다.

## Compound Query - Bool Query
- 가장 강력하고 다재다능한 컴파운드 쿼리 중 하나이다.
- SQL에서 AND, OR, NOT을 사용하는 것처럼 논리 연산자를 사용하여 여러 쿼리를 결합할 수 있게 한다.
- SQL의 WHERE 절에서 사용하는 불리언 논리와 동등한 것으로 볼 수 있다.

## Compund Query - 주요 구성 요소
- must: SQL에서 AND에 해당한다. must 절의 모든 쿼리가 일치해야 문서가 일치하는 것으로 간주된다.
- must_not: SQL에서 NOT에 해당한다. must_not 절의 쿼리는 일치하지 않아야 문서가 일치하는 것으로 간주된다.
- should: SQL에서 OR에 해당한다. should 절의 쿼리는 일치할 경우 관련성 점수를 증가시킨다. must나 filter 절이 없을 경우, 최소 하나의 should 절이 일치해야 한다.
- filter: must와 비슷하지만, 관련성 점수에 기여하지 않는다는 차이가 있다. 일반적으로 true/false 같은 이진 조건을 가진 문서를 필터링하는 데 사용된다.
# Pagination
- Elasticsearch의 페이징(Pagination)은 대용량 검색 결과를 더 작고 관리하기 쉬운 단위로 나누는 기능이다.
- 페이징을 구현하는 가장 일반적인 방법은 검색 쿼리에서 `from`과 `size` 파라미터를 사용하는 것이다.

```
GET /my_index/_search
{
  "from": 3,
  "size": 3,
  "query": {
    "match_all": {}
  }
}
```

### 🔥 주의점!!
- `from` 값은 기본값으로 0을 갖는다. 즉, 가장 첫 데이터부터 조회를하게 된다.
- `size` 값은 기본적으로 10의 값을 갖는다. **그래서 기본 조회시에도 10개 이상의 데이터는 조회하지 못한다!!**
- 주의할 점은, from + size로 접근할 수 있는 최대 범위는 기본 설정상 **10,000**이다(`index.max_result_window`).
- 그 이상이 필요하면 `scroll`이나 `search_after` 같은 방식으로 접근해야 한다.

### 🔥Scroll
- **일괄 추출(batch export)**이나 백그라운드 처리용.
- 검색 스냅샷을 고정한 후 페이지 단위로 순차적으로 데이터를 읽는다.
- 일반 UI 페이지네이션에는 느리고 리소스 많이 쓰기 때문에 적합하지 않다.
- 데이터 백업/ETL 용도로 사용하는 것이 일반적이다.

### 🔥 search_after
- 정렬된 결과에 대한 무한 스크롤 / 커서 기반 페이지네이션
- from 없이 빠르고 가볍고, 반드시 정렬(sort) 필드와 search_after 값을 함께 사용해야 한다.
- 커서처럼 이전 결과의 값을 기억해서 다음 페이지로 이동한다.